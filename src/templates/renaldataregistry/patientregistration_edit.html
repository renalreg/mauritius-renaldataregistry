{% extends 'base.html' %}

{% block extrahead %}
{{ patient_form.media }}
{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">
{% endblock %}

{% load crispy_forms_tags %}
{% block content %}

{% if patient_form.non_field_errors %}
<ul>
    {% for error in patient_form.non_field_errors %}
    <li>{{ error }}</li>
    {% endfor %}
</ul>
{% endif %}

<div class="container">
    <h1>Change main unit for {{ patient.name }}</h1>
    <div class="row justify-content-center">
        <div class="col">
            <div class="mb-3">
                <h2>Current location:</h2>
            </div>
            <div class="mb-3">
                Health institution: {{ patient.patientregistration.health_institution }}
            </div>
            <div class="mb-3">
                Unit: {{ patient.patientregistration.unit }}
            </div>
        </div>
        <div class="col">
            <form class="" action="" method="post">
                {% csrf_token %}
                <div class="mb-3">
                    <h2>New location:</h2>
                </div>
                <div class="mb-3">
                    {{patientregistration_form.health_institution | as_crispy_field}}
                </div>
                <div class="mb-3">
                    {{patientregistration_form.unit | as_crispy_field}}
                </div>
                <div class="mb-3 d-grid gap-2 d-md-flex justify-content-md-end">
                    <button class="btn btn-primary" type="submit">Submit</button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}